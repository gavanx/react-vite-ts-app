var countTexts = function (pressedKeys) {
  const mod = 1000000007n
  const mx = 100001

  const s = pressedKeys
  let f = new Array(mx).fill(0)
  f[0] = 1n
  f[1] = 1n
  f[2] = 2n
  f[3] = 4n
  let g = [...f]

  for (let i = 4; i < mx; i++) {
    f[i] = (f[i - 1] + f[i - 2] + f[i - 3]) % mod
    g[i] = (g[i - 1] + g[i - 2] + g[i - 3] + g[i - 4]) % mod
    if (i > 99001) console.log(i, g[i])
  }
  let ans = 1n
  let cnt = 0

  for (let i = 0; i < s.length; i++) {
    cnt++
    if (i === s.length - 1 || s[i] !== s[i + 1]) {
      if (s[i] !== '7' && s[i] !== '9') {
        ans = (ans * f[cnt]) % mod
      } else {
        ans = (ans * g[cnt]) % mod
      }
      cnt = 0
    }
  }

  return Number(ans)
}

// console.log(countTexts('22233') === 8)
// console.log(countTexts('222222222222222222222222222222222222') === 82876089)
// console.log(countTexts('55555555999977779555') === 20736)
// console.log(countTexts('7777') === 8)
// console.log(countTexts('2222') === 7)

console.log(
  countTexts(
    '88888888888888888888888888888999999999999999999999999999994444444444444444444444444444488888888888888888888888888888555555555555555555555555555556666666666666666666666666666666666666666666666666666666666222222222222222222222222222226666666666666666666666666666699999999999999999999999999999888888888888888888888888888885555555555555555555555555555577777777777777777777777777777444444444444444444444444444444444444444444444444444444444433333333333333333333333333333555555555555555555555555555556666666666666666666666666666644444444444444444444444444444999999999999999999999999999996666666666666666666666666666655555555555555555555555555555444444444444444444444444444448888888888888888888888888888855555555555555555555555555555555555555555555555555555555555555555555555555555555555999999999999999555555555555555555555555555554444444444444444444444444444444555'
  ) === 886136986
)
